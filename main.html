<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Main</title>
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="header.css" />
    <link rel="stylesheet" href="market.css" />
    <link rel="stylesheet" href="history.css" />
    <link rel="stylesheet" href="watchlist.css" />
    <link rel="stylesheet" href="management.css" />
    <link rel="stylesheet" href="placeorder.css" />
    <link rel="stylesheet" href="footer.css" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body class="column-layout">
    <header>
      <img src="assets/pt_trial.a0934fd1.svg" alt="logo">

      <!-- Header content -->
      <div>
        <!-- Header clock -->
        <div id="vn-clock">
          <span id="vn-time">10:10:10</span>
          <span id="vn-date">2022/2/2</span>
        </div>

        <!-- Navigation -->
        <nav>
          <ul>
            <li>
              <!-- TODO: remove nav-selected, table-selected, etc -->
              <a href="/main.html" class="nav-selected">Main page</a>
            </li><li>
              <a href="/assets.html">Assets</a>
            </li>
            <li>
              <a href="/guide.html">Guide</a>
            </li>
          </ul>
        </nav>

        <!-- Profit - Loss -->
        <div id="profit-loss">
          <span id="profit-loss-value">
            <span>Profit/Loss:</span>
            <span>0</span>
          </span>

          <span id="derivative-masters" class="tag">
            <a href="/derivative-masters.html">
              <i class="fa-solid fa-trophy"></i>
              Derivative Masters
            </a>
          </span>
        </div>

        <!-- Account menu -->
        <div id="account-menu">
          <div>TRIAL VERSION</div>
          <div id="upgrade-account" class="tag">
            <a href="/upgrade.html">Upgrade Account</a>
          </div>

          <div id="my-account" class="drop-down">
            <!-- Dropdown toggler -->
            <div class="drop-down-toggle">
              <span>
                <i class="fa-solid fa-user"></i>
                <span id="user-fullname">Nguyễn Việt Minh Nghĩa</span>
                <i class="fa-solid fa-caret-down"></i>
              </span>

              <!-- Dropdown menu -->
              <!-- Menu INSIDE .drop-down-toggle to keep :hover state
                   when the mouse move to the menu -->
              <!-- TODO: decide on hover vs click and streamline everything -->
              <ul class="drop-down-menu">
                <li>
                  <i class="fa-solid fa-arrow-right-from-bracket"></i>
                  <a>Logout</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <div class="col1">
        <!-- Main chart, currently not rendered due to CORS? -->
        <iframe
          id="chart"
          title="Chart"
          src="https://dchart.vndirect.com.vn/charting_library/static/en-tv-chart.aaac22e21df68f2f7bad.html#symbol=VN30F1M&interval=1&widgetbar=%7B%22details%22%3Afalse%2C%22watchlist%22%3Afalse%2C%22watchlist_settings%22%3A%7B%22default_symbols%22%3A%5B%5D%7D%7D&timeFrames=%5B%7B%22text%22%3A%225y%22%2C%22resolution%22%3A%22W%22%7D%2C%7B%22text%22%3A%221y%22%2C%22resolution%22%3A%22W%22%7D%2C%7B%22text%22%3A%223m%22%2C%22resolution%22%3A%22D%22%7D%2C%7B%22text%22%3A%221m%22%2C%22resolution%22%3A%22D%22%7D%2C%7B%22text%22%3A%225d%22%2C%22resolution%22%3A%225%22%7D%2C%7B%22text%22%3A%221d%22%2C%22resolution%22%3A%221%22%7D%5D&locale=en&uid=tradingview_ebc5f&clientId=vnds_trading_view&userId=vnds-0001542070&chartsStorageUrl=https%3A%2F%2Fchart-api.vndirect.com.vn&chartsStorageVer=1.1&debug=false&timezone=Asia%2FBangkok&ssreqdelay=400&theme=Dark"
        ></iframe>

        <!-- Market chart -->
        <div id="market">
          <iframe
            id="market-chart-box"
            title="Leader - Lagger chart"
            src="https://mkw.vndirect.com.vn/leader_lagger?color=gray"
          ></iframe>
          <ul id="market-menu" class="no-bullet">
            <li id="market-intraday">INTRADAY</li>
            <li id="market-vn30">VN30</li>
            <li id="market-leader-lagger" class="selected"><i class="fa-solid fa-chart-bar"></i></li>
            <li id="market-pie"><i class="fa-solid fa-chart-pie"></i></li>
          </ul>
        </div>
      </div>
      <div class="col2">
        <div id="history">
          <!-- Summary -->
          <div id="summary">
            <div id="futures">VN30F2201</div>
            <div id="floor">
              <span>Floor:</span>
              <br />
              <span>1400</span>
            </div>
            <div id="reference">
              <span>Reference:</span>
              <br />
              <span>1500</span>
            </div>
            <div id="ceil">
              <span>Ceil:</span>
              <br />
              <span>1600</span>
            </div>
          </div>

          <!-- Table selector, might use nav&tab -->
          <div class="table-selector">
            <a id="price-step" class="table-selected">Price step</a>
            <a id="trading-history">Trading history</a>
          </div>

          <!-- Price step table -->
          <table id="price-step-table">
            <thead>
              <tr>
                <th id="buy-quantity" scope="col">Buy Qty</th>
                <th id="buy-price" scope="col">Buy Price</th>
                <th id="sell-price" scope="col">Sell Price</th>
                <th id="sell-quantity" scope="col">Sell Qty</th>
              </tr>
            </thead>
            <tbody></tbody>

            <!-- Row template -->
            <template>
              <tr>
                <td><span></span></td>
                <td style="position: relative">
                  <span></span>
                  <div class="price-step-cell-bg" style="right: 0"></div>
                </td>
                <td style="position: relative">
                  <span></span>
                  <div class="price-step-cell-bg" style="left: 0"></div>
                </td>
                <td><span></span></td>
              </tr>
            </template>
          </table>

          <!-- Trading history table -->
          <table id="trading-history-table" style="display: none">
            <thead>
              <tr>
                <th scope="col">Time</th>
                <th scope="col">Price</th>
                <th scope="col">+/-</th>
                <th scope="col">Qty</th>
                <th scope="col">Agg</th>
              </tr>
            </thead>
            <tbody></tbody>

            <!-- Row template -->
            <template>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </template>
          </table>
        </div>
        <div id="watchlist">
          <table id="watchlist-table">
            <colgroup>
              <col width="25%" />
              <col width="18%" />
              <col width="16%" />
              <col width="16%" />
              <col width="25%" />
            </colgroup>

            <thead>
              <tr>
                <th scope="col">Symbol</th>
                <th scope="col">Price</th>
                <th scope="col">
                  <i class="fa-solid fa-caret-left"></i>
                  <span>+/-</span>
                  <i class="fa-solid fa-caret-right"></i>
                </th>
                <th scope="col">Spread</th>
                <th scope="col">Total Qty</th>
              </tr>
            </thead>
            <tbody></tbody>

            <!-- Row template -->
            <template>
              <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </template>
          </table>
        </div>
      </div>
      <div class="col3">
        <div id="management">
          <div id="panel-title">
            <!-- Refresh or close the panel -->
            <div id="panel-control">
              <i id="panel-refresh" class="fa-solid fa-rotate"></i>
              <i id="panel-minimize" class="fa-solid fa-minus"></i>
            </div>

            <div id="panel-title-content">
              <div id="panel-title-orderbook" class="table-selector">
                <a id="day-order" class="table-selected">Intraday order</a>
                <a id="conditional-order">Conditional order</a>
              </div>

              <div id="panel-title-portfolio" class="table-selector" style="display: none;">
                <a id="open-positions" class="table-selected">Open Positions</a>
                <a id="closing-positions">Closing Positions</a>
              </div>

              <div id="panel-title-assets" style="display: none;">
                <a href="/assets-info">
                  <span>Assets info</span>
                  <i class="fa-solid fa-arrow-up-right-from-square"></i>
                </a>
              </div>
            </div>
          </div>

          <div id="panel-content">
            <div id="orderbook" style="display: none;">
              <!-- Intraday order table -->
              <table id="intraday-order-table">
                <thead>
                  <tr>
                    <th scope="col">Order</th>
                    <th scope="col">Symbol</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Price</th>
                    <th scope="col">WTF</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>

              <!-- Conditional order table -->
              <table id="conditional-order-table" style="display: none;">
                <thead>
                  <tr>
                    <th scope="col">Order</th>
                    <th scope="col">Symbol</th>
                    <th scope="col">Trigger Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Price</th>
                    <th scope="col">Expiration Date</th>
                    <th scope="col">WTF</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <div id="portfolio">
              <!-- Open positions table -->
              <table id="open-positions-table">
                <thead>
                  <tr>
                    <th scope="col">Symbol</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Price</th>
                    <th scope="col">Current Price</th>
                    <th scope="col">+/-</th>
                  </tr>
                </thead>
              </table>

              <table id="closing-positions-table" style="display: none;">
                <thead>
                  <tr>
                    <th scope="col">Symbol</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Buy Price</th>
                    <th scope="col">Sell Price</th>
                    <th scope="col">Profit/Loss</th>
                  </tr>
                </thead>
              </table>
            </div>

            <div id="assets" style="display: none;">
              <table id="assets-summary">
                <tbody>
                  <tr>
                    <th scope="row">Net Worth</th>
                    <td>12345678</td>
                  </tr>
                  <tr>
                    <th scope="row">Margin</th>
                    <td>12345678</td>
                  </tr>
                  <tr>
                    <th scope="row">Tax & Fee</th>
                    <td>12345678</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Place Order panel -->
        <div id="placeorder">
          <div id="error-banner">
            Create an account at VNDirect to place this order
          </div>

          <!-- Order types, each has its own form form. -->
          <div class="order-type">
            <div class="order-type-item">
              <input id="normal-order" name="type" value="normal" type="radio" checked/>
              <label for="normal-order">Normal Order</label>
            </div>
            <div class="order-type-item">
              <input id="stop-order" name="type" value="stop" type="radio" />
              <label for="stop-order">Stop Order</label>
            </div>
            <div class="order-type-item">
              <input id="trailing-order" name="type" value="trailing" type="radio" disabled/>
              <label for="trailing-order">Trailing Order</label>
            </div>
            <div class="order-type-item">
              <input id="oso-order" name="type" value="oso" type="radio" disabled/>
              <label for="oso-order">OSO Order</label>
            </div>
          </div>

          <!-- The forms below each has 2 submit buttons: Buy, Sell. They have the same name attribute.
          Upon submission, the server can check which one was clicked. -->

          <!-- Normal order form -->
          <form id="normal-order-form" method="post" action="/order/normal">
            <!-- Symbol -->
            <div class="form-row mv-10">
              <label for="symbol-normal">Symbol:</label>
              <select id="symbol-normal" name="symbol">
                <option value="" selected>-- Please choose a symbol --</option>

                <template>
                  <option></option>
                </template>
              </select>
            </div>

            <!-- Price -->
            <!-- TODO: use tooltips -->
            <div class="form-row mv-10">
              <label for="price-normal">Price:</label>
              <select id="price-normal" name="price">
                <option value="" disabled selected>-- Please choose a price --</option>
                <option value="ATO">ATO</option>
                <option value="ATC">ATC</option>
                <option value="MTL">MTL</option>
                <option value="MOK">MOK</option>
                <option value="MAK">MAK</option>
              </select>
            </div>

            <!-- Quantity -->
            <div class="form-row mv-10">
              <label for="quantity-normal">Quantity:</label>
              <input id="quantity-normal" name="quantity" type="number" min="0" placeholder="Quantity" />
            </div>

            <!-- Save -->
            <div class="form-row mv-10">
              <label for="save">Save order:</label>
              <input id="save" name="save" type="checkbox" />
            </div>

            <!-- Buy/Sell -->
            <div class="button-row mv-10">
              <button name="action" value="buy">BUY</button>
              <button name="action" value="sell">SELL</button>
            </div>
          </form>

          <!-- Stop order form -->
          <form id="stop-order-form" method="post" action="/order/stop" style="display: none;">
            <!-- Symbol -->
            <div class="form-row mv-10">
              <label for="symbol-stop">Symbol:</label>
              <select id="symbol-stop" name="symbol">
                <option value="" selected>-- Please choose a symbol --</option>

                <template>
                  <option></option>
                </template>
              </select>
            </div>

            <!-- Price -->
            <div class="form-row mv-10">
              <label for="price-stop">Price:</label>
              <input id="price-stop" name="price" type="text" placeholder="Price">
            </div>

            <!-- Quantity -->
            <div class="form-row mv-10">
              <label for="quantity-stop">Quantity:</label>
              <input id="quantity-stop" name="quantity" type="text" placeholder="Quantity">
            </div>

            <!-- Trigger price -->
            <div class="form-row mv-10">
              <label for="trigger-price">Trigger price</label>
              <div id="trigger-condition">
                <span>
                  <input id="price-lower" name="trigger-condition" value="lower" type="radio" checked/>
                  <label for="price-lower">≤</label>
                </span>
                <span>
                  <input id="price-higher" name="trigger-condition" value="higher" type="radio"/>
                  <label for="price-higher">≥</label>
                </span>
                <input id="trigger-price" name="trigger-price" type="text" placeholder="Trigger Price">
              </div>
            </div>

            <!-- Expiration -->
            <div class="form-row mv-10">
              <label for="expiration">Expiration:</label>
              <input id="expiration" name="expiration" type="date">
            </div>

            <!-- Buy/Sell -->
            <div class="button-row mv-10">
              <button name="action" value="buy">BUY</button>
              <button name="action" value="sell">SELL</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <footer>
      <!-- TODO: consistent naming scheme for selector & content -->
      <div id="select-orderbook" class="selected">Orderbook</div>
      <div id="select-portfolio">Portfolio</div>
      <div id="select-assets">Assets</div>
    </footer>

    <script src="main.js"></script>
  </body>
</html>
